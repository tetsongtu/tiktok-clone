<script lang="ts">
	import classNames from 'classnames';
	import { page } from '$app/state';

	interface Props {
		title: string;
		to: string;
		icon: string;
		iconFill?: string;
	}

	let { title, to, icon, iconFill }: Props = $props();

	const isActive = $derived(page.url.pathname === to);
	const currentIcon = $derived(isActive && iconFill ? iconFill : icon);

	const iconMap: Record<string, string> = {
		// Outline icons
		house: 'M219.31,108.68l-80-80a16,16,0,0,0-22.62,0l-80,80A15.87,15.87,0,0,0,32,120v96a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V160h32v56a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V120A15.87,15.87,0,0,0,219.31,108.68ZM208,208H160V152a8,8,0,0,0-8-8H104a8,8,0,0,0-8,8v56H48V120l80-80,80,80Z',
		users: 'M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z',
		video: 'M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,160H40V56H216V200Zm-91.06-85.66-48-32A8,8,0,0,0,64,88v64a8,8,0,0,0,12.94,6.34l48-32a8,8,0,0,0,0-12.68ZM80,137.05V103l25.58,17Z',
		// Fill icons
		'house-fill': 'M224,120v96a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V164a4,4,0,0,0-4-4H108a4,4,0,0,0-4,4v52a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V120a16,16,0,0,1,4.69-11.31l80-80a16,16,0,0,1,22.62,0l80,80A16,16,0,0,1,224,120Z',
		'users-fill': 'M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM252.38,195.48a95.87,95.87,0,0,0-47.13-37.56A60,60,0,0,0,144.7,54.59a4,4,0,0,0-1.33,6A75.83,75.83,0,0,1,147,150.53a4,4,0,0,0,1.07,5.53,112.32,112.32,0,0,1,29.85,30.83,23.92,23.92,0,0,1,3.65,16.47,4,4,0,0,0,3.95,4.64h60.3a8,8,0,0,0,7.73-5.93A8.22,8.22,0,0,0,252.38,195.48Z',
		'video-fill': 'M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM76.94,166.34a8,8,0,0,1-12.94-6.34V88a8,8,0,0,1,12.94-6.34l48,32a8,8,0,0,1,0,12.68Z'
	};
</script>

<a
	href={to}
	class={classNames(
		'flex items-center w-full h-9 px-2 py-3 rounded text-base font-normal leading-normal',
		isActive && 'text-[var(--primary)]'
	)}
>
	<svg class="w-6 h-6" viewBox="0 0 256 256" fill="currentColor">
		<path d={iconMap[currentIcon]} />
	</svg>
	<span class="ml-2.5">{title}</span>
</a>
